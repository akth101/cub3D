## cub3D  
미로 내부를 1인칭 시점에서 본 realistic 3D graphicical program을 제작하는 과제입니다.  
저는 파싱된 정보를 받아 실제로 화면에 그래픽을 그리는 부분을 구현했으며 세부 구현 사항은 아래와 같습니다.  

조작 관련:  
- 왼쪽 & 오른쪽 방향키는 미로의 왼쪽 or 오른쪽을 볼 수 있도록 해야 한다.  
- W, A, S, D 키로 시점을 이동할 수 있어야 한다.  
- ESC를 누르거나 오른쪽 상단의 빨간 십자가를 누르면 window를 닫음과 동시에 program이 깔끔하게 종료되어야 한다.  

map 관련:  
- 바닥과 천장의 색깔은 서로 달라야 한다.  
- 프로그램은 첫 번째 인자로 반드시 .cub 확장자로 되어있는 map 파일을 받아야 한다.  
- map은 오직 6개의 문자로 구성된다: `0` → 빈 공간, `1` → 벽, `N S E W` → player의 시작 지점과 시작했을 때 바라보고 있을 방향  
- map은 벽으로 둘러싸여 닫혀진 형태여야 하며 만약 아니라면 프로그램은 error를 내뱉어야 한다.  
- map은 아래와 같은 형식으로 구성되어 있다.  
<img width="593" alt="스크린샷 2024-06-13 오후 12 46 24" src="https://github.com/user-attachments/assets/89b154b4-b71d-49f5-8fc8-cb2d7582b792" />

- map을 제외하고는 각 요소들은 한 줄 이상의 빈 줄로 구분될 수 있다.  
- 최하단에 위치해야 하는 map을 제외하고는 각 요소들은 순서가 뒤죽박죽일 수 있다.  
- map을 제외하고는 각 요소 안의 정보들은 하나 이상의 공백으로 구분될 수 있다.  
- map은 위 파일에 있는 그대로 parsing되어야 하고 map 중간에 공백이 있는 경우 유효한 map으로 본다.  
- map 규칙을 따르는 한 어떤 종류의 map도 파싱해야 한다.  

---

목차  
1. 핵심 개념 - Raycasting
2. 주요 기술적 이슈와 해결 과정  
3. 평가 피드백

---

1. 핵심 개념 - Raycasting  
이 과제에서 핵심적으로 사용되는 개념은 Raycasting으로 간단히 설명하자면 가상의 광선(ray)를 쏘아 물체와의 충돌을 감지하고 이를 통해 3D 환경을 2D 화면상에 표현하는 기술입니다.
<img width="432" alt="스크린샷 2025-01-10 오후 1 55 23" src="https://github.com/user-attachments/assets/e776123f-6ade-408c-adbf-2d57572cb41f" />

실질적인 구현은 크게 아래의 두 단계를 거쳐 진행됩니다:  

1-1) 플레이어가 바라보는 곳에 물체가 존재하는지 아닌지를 파악  
- 2차원 평면상에서 camera 시야각 내의 모든 x좌표에 대하여 광선을 쏨으로써 물체가 있는지 없는지에 대한 정보를 얻는다.  

1-2) 물체가 존재한다면 그 물체를 얼마나 크고 얼마나 작게 그릴지 결정  
- 물체가 있는 게 확인되었으면 카메라 평면으로부터 벽이 얼마나 멀리 떨어져있는지를 계산

더욱 자세한 과정은 아래 링크에 정리해두었습니다.  
https://tree-wakeboard-b53.notion.site/cub3D-28c7712c9110440e9e59136c1daf50c9
 

2. 주요 기술적 이슈와 해결 과정

2-1) 용어의 정확한 의미 파악이 선행되지 않음으로 인한 에러 발생  
나온 지 오래된 기술이기도 하고 그 구현도 웹상에 잘 정리되어 있어 따라가기만 하면 쉽게 끝날 수 있을 것이라 생각했습니다. 그러나 화면의 중앙에 해당하는 x좌표에서만 벽이 그려지지 않는다거나, user의 방향에 대하여 화면이 비틀어져 뽑힌다거나 하는 문제가 계속해서 발생했습니다. 좌표값을 한줄한줄 터미널에 찍어보며 디버깅하였는데 모든 원인은 결국 용어의 정확한 의미를 정확하게 제대로 파악하지 않고 구현에 들어갔기 때문에 발생하는 문제였습니다. planeX와 planeY는 고정값이 아니라 변수값인데 고정값으로 사용을 한다든지 wallY처럼 필요없는 변수를 따로 선언해서 스스로 헷갈리게 만든다든지 하는 점들이 주요 원인이였습니다. 결국 스스로 무엇을 모르는지조차 모른 상태였기 때문에 발생하는 문제들이였던 것입니다. 이를 계기로, 다른 새로운 기술들을 배울 때 이것이 뜻하는 바가 정확하게 무엇이지?라고 끊임없이 되물으며 학습하는 계기가 되었습니다.  

3. 평가 피드백
<img width="993" alt="스크린샷 2025-01-10 오후 2 24 13" src="https://github.com/user-attachments/assets/89964b10-827e-414a-9581-e59bedc86851" />







